<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin="" />
</head>
<style>
#mapid {
    height: 800px;
}
</style>

<body>
    <div id="mapid" "></div>
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js " integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=" "></script>
    <script>
    myCoords = {}
    var mymap = L.map('mapid').setView([51.505, -0.09], 13);

    var baseMap = L.tileLayer( 'https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager/{z}/{x}/{y}.png', {
                    maxZoom: 18,

                    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright ">OpenStreetMap</a>, &copy; <a href="https://carto.com/attribution ">CARTO</a>',
                }
            );
    baseMap.addTo(mymap);
    var marker1 = L.marker([51.5, -0.09]).bindPopup("<b>Hello world!</b><br>I am a popup.").openPopup();
 var marker2 = L.marker([51.4, -0.19]).bindPopup("<b>Hello world2!</b><br>I am a popup2.").openPopup();
 var marker3 = L.marker([51.3, -0.29]).bindPopup("<b>Hello world3!</b><br>I am a popup2.").openPopup();
var geoJSONFeatures = {"type":"FeatureCollection","myprop":"hello","myProp2":[{"name":"Jimmy","age":25},{"name":"Freddy","age":26}],"features":[{"type":"Feature","geometry":{"type":"Point","coordinates":[0.3,51]},"properties":{"prop0":"value0"}},{"type":"Feature","geometry":{"type":"Point","coordinates":[0.35,51.2]},"properties":{"prop0":"value0"}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[0.3,51.1],[0.3,51.2],[0.2,51.4],[0.1,51.3]]},"properties":{"prop0":"value0","prop1":0,"prop2":[{"subprop1":"val2","sb2":"val2b"},{"subprop2":"val2","sb2":"val2b"}]}},{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[0.3,51],[0.4,51],[0.4,51.1],[0.4,51.1],[0.3,51]]]},"properties":{"prop0":"value0","prop1":{"this":"that","p2":"val2"}},"myProp":"x"}]};


var myMarkers =  L.layerGroup([marker1, marker2]);
var myMarkers2 = L.layerGroup([marker3]);
//var geoLayer =   L.layerGroup([geoJSONFeatures]);
// myMarkers.addTo(mymap);


var overlayMaps = {
    Markers: myMarkers,
    Layer2: marker3,
    //GeoFeatures: geoJSONFeatures
};

L.control.layers(overlayMaps).addTo(mymap);



// L.geoJSON(geoJSONFeatures).addTo(mymap);



// this works - but vue version doesnt
var popup = L.popup();
mymap.on('click', function onMapClick(e) {
  
        popup.setLatLng(e.latlng)
        popup.setContent("You clicked the map at " + e.latlng.toString())
        popup.openOn(mymap);
			}
 	);
// --------------------------------------


    </script>




</body>

</html>